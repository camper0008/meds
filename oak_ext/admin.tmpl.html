<!DOCTYPE html>
<html>
  <head><style>:root { color-scheme: light dark; }</style></head>
  <body>
    <form id="form" action="/restock" method="POST">
      <p><label for="name">pill</label>
      <select id="name" name="name">
        ${#0}
      </select></p>
      <p><label for="count">count</label>
      <input id="count" name="count" type="number"></p>
      <p><label for="secret">secret</label>
      <input id="secret" name="secret" type="text"></p>
      <input type="submit" value="restock">
    </form>
    <p id="response"></p>
  </body>
  <script>
    function main() {
      const form = document.querySelector("#form");
      const res = document.querySelector("#response");
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
        const formData = new FormData(form);
        const body = {
            secret: formData.get("secret"),
            count: parseFloat(formData.get("count")),
            name: formData.get("name"),
        };
        const response = await (await fetch("/restock", {
          method: "POST",
          body: JSON.stringify(body),
        })).text()
        res.innerText = response;
      })
    }
    main();
  </script>
</html>
